<!doctype html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <title>Test Cases - Check List</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Red+Hat+Text:ital,wght@0,300..700;1,300..700&amp;family=Roboto+Mono:ital@0;1&amp;display=swap"
      rel="stylesheet"
    />
    <style>
      html {
        font-size: 75%;
      }

      body {
        margin: 2.4rem 4.8rem;
        /* TODO: Restore initial margin when before send template - margin: initial; */
        /* margin: initial;  */
        /* font-size: 0.8rem; */
        font-size: 1.1rem;
        line-height: 1.4rem;
        font-family: sans-serif;
        font-family: "Red Hat Text", sans-serif;
      }

      .wrapper {
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-bottom: 0.1rem solid #9c9c9c;
        margin-bottom: 1.6rem;
      }

      .title {
        flex: 1;
        /* color: #4a5964; */
        /* margin: 1.8rem 0 0.3rem 0; */
        font-size: 1.3rem;
        line-height: 1.2;
        text-transform: uppercase;
        font-weight: 700;
        letter-spacing: 0.03rem;
        color: #000000;
        font-family: "Montserrat", Arial, sans-serif;
      }

      .logo {
        flex: none;
        height: 4.2rem;
        width: 4.2rem;
        margin: 0 0.8rem;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .logo svg {
        height: 100%;
        width: 100%;
      }

      .infos {
        flex: none;
        flex-direction: column;
        justify-content: flex-end;
        display: flex;
        gap: 0.3rem;
        margin: 0 0.8rem;
      }

      .generated-infos {
        display: flex;
        font-size: 0.8rem;
        justify-content: flex-end;
        line-height: initial;
      }

      .content {
        display: flex;
        flex-direction: column;
        gap: 1.2rem;
        margin: 0 0.8rem;
      }
      /* .data {
        margin-top: 1.6rem;
      } */

      table {
        width: 100%;
        margin-bottom: 2rem;
        border-collapse: collapse;
        border-radius: 0.6rem;
        overflow: hidden;
        border-style: hidden;
        box-shadow: 0 0 0 1px #ddd;
      }

      th,
      td {
        padding: 0.6rem 0.8rem 0.4rem 0.8rem;
        font-size: 1.1rem;
        line-height: 1.4rem;
        border: 0.1rem solid #ddd;
        text-align: left;
      }

      th {
        padding: 0.6rem 0.8rem;
        font-weight: initial;
        color: #fff;
        background-color: #9c9c9c;
      }

      .label {
        color: #778288;
        font-weight: initial;
      }

      .name {
        color: #353535;
        margin: 0 0.3rem;
        font-weight: 700;
      }

      .date {
        color: #353535;
        margin: 0 0.3rem;
        font-weight: 700;
      }

      .id-column {
        min-width: 8rem;
        max-width: 8rem;
        word-wrap: break-word;
      }

      .description {
        width: 100%;
      }

      .executed-at {
        gap: 0.3rem;
        width: 11rem;
        max-width: 11rem;
        min-width: 11rem;
      }

      .datetime {
        display: flex;
        align-items: center;
        gap: 0.3rem;
        width: 12rem;
        max-width: 12rem;
        min-width: 12rem;
      }

      .datetime {
        display: flex;
        align-items: center;
        gap: 0.3rem;
        width: 12rem;
        max-width: 12rem;
        min-width: 12rem;
      }

      .datetime > .date {
        color: #353535;
        font-weight: initial;
      }

      .datetime > .time {
        font-weight: 400;
        font-size: 0.9rem;
        color: #778288;
      }

      @media print {
        * {
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
        }

        tr {
          break-inside: avoid;
          page-break-inside: avoid; /* Ancienne syntaxe (IE/Safari) */
        }
        td div {
          break-inside: avoid;
        }

        table {
          /* Recommandé pour éviter des comportements imprévus sur certains moteurs */
          border-collapse: collapse;
        }

        tr {
          page-break-inside: avoid !important;
          break-inside: avoid !important;
          page-break-after: auto;
          page-break-before: auto;
          display: table-row;
        }
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <div class="header">
        <div class="logo">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="50"
            height="18.78"
            viewBox="0 0 38.252 14.369"
          >
            <g id="Symbols" transform="translate(-10.874 -10.814)">
              <g
                id="MOLECULE_Header-A-Builder"
                data-name="MOLECULE/Header-A-Builder"
                transform="translate(-6 -14)"
              >
                <g
                  id="Logo-_-AppName"
                  data-name="Logo-+-AppName"
                  transform="translate(6 14)"
                >
                  <g id="Logo" transform="translate(10.874 10.815)">
                    <path
                      id="Path_440"
                      data-name="Path 440"
                      d="M31.427,2.841V5.832H37.4V8.491H31.427v3.036h6.826v2.658H28.445v-14h9.807V2.841ZM7.218,14.37a6.931,6.931,0,0,0,5.758-2.812L10.713,9.768A4.094,4.094,0,0,1,7.3,11.623a4.285,4.285,0,0,1-4.21-4.438A4.285,4.285,0,0,1,7.3,2.747,4.094,4.094,0,0,1,10.713,4.6l2.263-1.791A6.931,6.931,0,0,0,7.218,0,7.224,7.224,0,0,0,0,7.185,7.224,7.224,0,0,0,7.218,14.37ZM21.646.183h-3.1l5.45,14h3.121Zm1.017,10.788H17.436l-1.257,3.214H13.091l3.2-8.259Z"
                      fill="#000"
                    />
                  </g>
                </g>
              </g>
            </g>
          </svg>
        </div>

        <div class="infos">
          <div class="generated-infos">
            <span class="label">Generated by</span>
            <span class="name">CAE QTG System</span>
            <span class="label">at</span>
            <span class="date">2026-02-12 10:30:00 UTC</span>
          </div>
          <div class="generated-infos">
            <span class="label">Cycle</span>
            <span class="name">Test Evaluation Cycle</span>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="title">List of Tests - Master Test Result</div>
        <table class="data">
          <thead>
            <tr>
              <th class="id-column">Test Case ID</th>
              <th class="description">Description</th>
              <th class="executed-at">Executed At</th>
            </tr>
          </thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
    </div>

    <script>
      async function loadTestCases() {
        try {
          const response = await fetch("data.json");
          const data = await response.json();
          const tableBody = document.getElementById("tableBody");

          data.testCases.forEach((testCase) => {
            const row = document.createElement("tr");

            // Colonne ID
            const idCell = document.createElement("td");
            idCell.className = "id-column";
            idCell.textContent = testCase.id;

            // Colonne Description
            const descCell = document.createElement("td");
            descCell.className = "description";
            descCell.textContent = testCase.description;

            // Colonne Executed At
            const execCell = document.createElement("td");
            execCell.className = "executed-at";

            if (testCase.executedAt) {
              const datetimeDiv = document.createElement("div");
              datetimeDiv.className = "datetime";

              const dateDiv = document.createElement("div");
              dateDiv.className = "date";
              dateDiv.textContent = testCase.executedAt.date;

              const timeDiv = document.createElement("div");
              timeDiv.className = "time";
              timeDiv.textContent = testCase.executedAt.time;

              datetimeDiv.appendChild(dateDiv);
              datetimeDiv.appendChild(timeDiv);
              execCell.appendChild(datetimeDiv);
            }

            // Ajouter les cellules à la ligne
            row.appendChild(idCell);
            row.appendChild(descCell);
            row.appendChild(execCell);

            // Ajouter la ligne au tableau
            tableBody.appendChild(row);
          });
        } catch (error) {
          console.error("Erreur lors du chargement des données:", error);
        }
      }

      // Charger les données au chargement de la page
      document.addEventListener("DOMContentLoaded", loadTestCases);
    </script>
  </body>
</html>
